/* ==========================================
   MOBILE RESPONSIVE FIXES
   ========================================== */

/* Prevent horizontal scroll */
html,
body {
    overflow-x: hidden !important;
    max-width: 100vw !important;
}

/* Mobile styles (< 768px) */
@media (max-width: 767px) {

    /* LAYOUT - Stack sidebar and content vertically */
    body>div>div[style*="display: flex"],
    #root>div[style*="display: flex"] {
        flex-direction: column !important;
    }

    /* SIDEBAR - Full width on mobile */
    div[style*="width: 280px"],
    div[style*="width: 240px"],
    div[style*="width:280px"],
    div[style*="width:240px"] {
        width: 100% !important;
        height: auto !important;
        position: relative !important;
        padding: 12px 16px !important;
        max-height: none !important;
    }

    /* Navigation menu - horizontal scroll or wrap */
    div[style*="marginBottom: '24px'"]>div[style*="padding: '12px 16px'"] {
        display: inline-block !important;
        margin: 4px !important;
    }

    /* MAIN CONTENT - Full width with padding */
    div[style*="flex: 1"] {
        width: 100% !important;
        padding: 8px 12px !important;
    }

    /* TOP BAR - Stack vertically */
    div[style*="padding: 24px 40px"],
    div[style*="padding: 20px 30px"],
    div[style*="padding:24px 40px"],
    div[style*="padding:20px 30px"] {
        padding: 12px 16px !important;
        flex-direction: column !important;
        align-items: flex-start !important;
        gap: 12px !important;
    }

    /* CARDS - Compact padding */
    div[style*="padding: 32px"],
    div[style*="padding:32px"],
    div[style*="padding: '32px'"] {
        padding: 16px !important;
        border-radius: 12px !important;
        margin-bottom: 16px !important;
    }

    div[style*="padding: 24px"],
    div[style*="padding:24px"] {
        padding: 14px !important;
    }

    div[style*="padding: 20px"],
    div[style*="padding:20px"] {
        padding: 12px !important;
    }

    /* GRIDS - Single or 2 column layout */
    div[style*="gridTemplateColumns: repeat(4, 1fr)"],
    div[style*="gridTemplateColumns: 'repeat(4, 1fr')"],
    div[style*="grid-template-columns: repeat(4, 1fr)"] {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px !important;
    }

    div[style*="gridTemplateColumns: repeat(3, 1fr)"],
    div[style*="gridTemplateColumns: 'repeat(3, 1fr')"],
    div[style*="grid-template-columns: repeat(3, 1fr)"] {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 12px !important;
    }

    div[style*="gridTemplateColumns: repeat(2, 1fr)"],
    div[style*="gridTemplateColumns: 'repeat(2, 1fr')"],
    div[style*="grid-template-columns: repeat(2, 1fr)"] {
        grid-template-columns: repeat(2, 1fr) !important;
        gap: 10px !important;
    }

    /* Auto-fit grids */
    div[style*="gridTemplateColumns: 'repeat(auto-fit"] {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    /* TYPOGRAPHY - Smaller fonts */
    h1[style*="fontSize"],
    h1[style*="font-size"] {
        font-size: 1.25rem !important;
    }

    h2[style*="fontSize"],
    h2[style*="font-size"] {
        font-size: 1.125rem !important;
    }

    h3[style*="fontSize"],
    h3[style*="font-size"] {
        font-size: 1rem !important;
    }

    /* Large display numbers */
    div[style*="fontSize: '2.5rem'"],
    div[style*="fontSize: 2.5rem"],
    div[style*="fontSize:'2.5rem'"] {
        font-size: 1.5rem !important;
    }

    div[style*="fontSize: '1.8rem'"],
    div[style*="fontSize: 1.8rem"] {
        font-size: 1.25rem !important;
    }

    /* BUTTONS - Compact size */
    button[style*="padding: 10px 24px"],
    button[style*="padding: 12px 16px"],
    button[style*="padding: 14px"],
    button[style*="padding:10px 24px"] {
        padding: 8px 14px !important;
        font-size: 0.875rem !important;
        min-height: 36px !important;
    }

    button[style*="padding: 10px 20px"],
    button[style*="padding:10px 20px"] {
        padding: 8px 12px !important;
        font-size: 0.875rem !important;
    }

    /* INPUTS - Compact and prevent zoom */
    input[style*="padding: 12px 16px"],
    input[style*="padding:12px 16px"],
    textarea[style*="padding: 12px"] {
        padding: 10px 12px !important;
        font-size: 16px !important;
        /* Prevents iOS zoom */
    }

    select {
        font-size: 16px !important;
    }

    /* MODALS - Full width */
    div[style*="maxWidth: '600px'"],
    div[style*="maxWidth: '800px'"],
    div[style*="maxWidth: '500px'"],
    div[style*="maxWidth:'600px'"] {
        width: 95vw !important;
        max-width: 95vw !important;
        padding: 16px !important;
        border-radius: 12px !important;
        margin: 8px !important;
    }

    /* CHARTS - Visible and sized */
    .recharts-wrapper {
        font-size: 0.7rem !important;
        min-height: 200px !important;
    }

    .recharts-responsive-container {
        min-height: 200px !important;
    }

    svg.recharts-surface {
        width: 100% !important;
        min-height: 200px !important;
        display: block !important;
        visibility: visible !important;
    }

    .recharts-cartesian-axis-tick text {
        font-size: 0.65rem !important;
    }

    /* Chart containers with specific heights */
    div[style*="height: 400px"],
    div[style*="height:400px"] {
        height: 220px !important;
        min-height: 220px !important;
    }

    div[style*="height: 300px"],
    div[style*="height:300px"] {
        height: 200px !important;
        min-height: 200px !important;
    }

    div[style*="height: 150px"],
    div[style*="height:150px"] {
        height: 140px !important;
        min-height: 140px !important;
    }

    /* STATS/METRICS - Smaller text */
    div[style*="fontSize: '0.85rem'"],
    div[style*="fontSize: 0.85rem"] {
        font-size: 0.7rem !important;
    }

    /* BADGES - Compact */
    span[style*="padding: '8px 16px'"],
    span[style*="padding: 8px 16px"],
    div[style*="padding: '6px 12px'"],
    div[style*="padding: 6px 12px"] {
        padding: 5px 10px !important;
        font-size: 0.75rem !important;
    }

    /* ALERTS - Compact */
    div[style*="padding: '16px 20px'"],
    div[style*="padding: 16px 20px"] {
        padding: 10px 12px !important;
        font-size: 0.8rem !important;
    }

    /* FIXED POSITION - Adjust for mobile header */
    div[style*="position: 'fixed'"][style*="top: '107px'"],
    div[style*="position: fixed"][style*="top: 107px"] {
        top: 60px !important;
        right: 8px !important;
        left: auto !important;
    }

    /* Alert button */
    button[style*="position: 'fixed'"],
    button[style*="position: fixed"] {
        padding: 6px 12px !important;
        font-size: 0.75rem !important;
    }

    /* USER PROFILE - Compact */
    div[style*="padding: '20px'"][style*="background: 'rgba(255,255,255,0.05'"],
    div[style*="padding: 20px"][style*="background: rgba(255,255,255,0.05"] {
        padding: 12px !important;
    }

    /* EMAIL TEXT - Hide or truncate */
    div[style*="color: '#64748b'"][style*="fontSize: '0.8rem'"] {
        font-size: 0.7rem !important;
        overflow: hidden !important;
        text-overflow: ellipsis !important;
        white-space: nowrap !important;
    }

    /* FLEX CONTAINERS - Allow wrap */
    div[style*="display: 'flex'"][style*="justifyContent: 'space-between'"],
    div[style*="display: flex"][style*="justify-content: space-between"] {
        flex-wrap: wrap !important;
        gap: 8px !important;
    }

    /* Location badge area */
    div[style*="padding: '8px 14px'"],
    div[style*="padding: 8px 14px"] {
        padding: 6px 10px !important;
        font-size: 0.7rem !important;
    }

    /* Table responsiveness */
    table {
        font-size: 0.75rem !important;
        display: block !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }

    th,
    td {
        padding: 6px 4px !important;
        white-space: nowrap !important;
    }
}

/* Extra small mobile (< 480px) */
@media (max-width: 479px) {

    /* Even more compact */
    div[style*="padding: 32px"],
    div[style*="padding:32px"] {
        padding: 12px !important;
    }

    /* Single column grids */
    div[style*="gridTemplateColumns: repeat(2, 1fr)"],
    div[style*="grid-template-columns: repeat(2, 1fr)"] {
        grid-template-columns: 1fr !important;
    }

    div[style*="gridTemplateColumns: repeat(3, 1fr)"],
    div[style*="grid-template-columns: repeat(3, 1fr)"] {
        grid-template-columns: 1fr !important;
    }

    div[style*="gridTemplateColumns: repeat(4, 1fr)"],
    div[style*="grid-template-columns: repeat(4, 1fr)"] {
        grid-template-columns: 1fr !important;
    }

    /* Typography */
    h1 {
        font-size: 1.125rem !important;
    }

    h2 {
        font-size: 1rem !important;
    }

    button {
        font-size: 0.8rem !important;
        padding: 6px 10px !important;
    }

    /* Charts even smaller */
    .recharts-wrapper,
    .recharts-responsive-container {
        min-height: 180px !important;
    }

    svg.recharts-surface {
        min-height: 180px !important;
    }

    .recharts-cartesian-axis-tick text {
        font-size: 0.6rem !important;
    }
}

/* Tablet (768px - 1023px) */
@media (min-width: 768px) and (max-width: 1023px) {

    /* Sidebar medium width */
    div[style*="width: 280px"],
    div[style*="width:280px"] {
        width: 220px !important;
    }

    /* 2 columns for 4-column grids */
    div[style*="gridTemplateColumns: repeat(4, 1fr)"],
    div[style*="grid-template-columns: repeat(4, 1fr)"] {
        grid-template-columns: repeat(2, 1fr) !important;
    }

    /* Adjust padding */
    div[style*="padding: '32px'"],
    div[style*="padding: 32px"] {
        padding: 20px !important;
    }
}

/* Touch devices - Larger tap targets */
@media (hover: none) and (pointer: coarse) {

    button,
    a[role="button"],
    input[type="checkbox"],
    input[type="radio"],
    div[onclick],
    div[style*="cursor: 'pointer'"],
    div[style*="cursor: pointer"] {
        min-height: 44px !important;
        min-width: 44px !important;
    }
}

/* Landscape mobile */
@media (max-height: 500px) and (orientation: landscape) and (max-width: 900px) {

    /* Reduce sidebar height */
    div[style*="height: '100vh'"],
    div[style*="height: 100vh"] {
        height: auto !important;
        max-height: none !important;
    }

    /* Scrollable content */
    body,
    #root {
        overflow-y: auto !important;
    }
}

/* General mobile optimizations */
@media (max-width: 767px) {

    /* Smooth scrolling */
    * {
        -webkit-overflow-scrolling: touch;
    }

    /* Better tap highlight */
    * {
        -webkit-tap-highlight-color: rgba(59, 130, 246, 0.1);
    }

    /* Prevent zoom on input focus */
    input,
    select,
    textarea {
        font-size: 16px !important;
    }

    /* All chart elements visible */
    .recharts-area,
    .recharts-line,
    .recharts-bar,
    .recharts-xAxis,
    .recharts-yAxis,
    .recharts-cartesian-grid {
        display: block !important;
        visibility: visible !important;
    }

    /* Image responsiveness */
    img {
        max-width: 100% !important;
        height: auto !important;
    }

    /* Prevent text from breaking layout */
    * {
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
    }
}